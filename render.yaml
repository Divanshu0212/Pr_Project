services:
  # Main Application Service
  - type: web
    name: portfolio-app
    env: docker
    repo: https://github.com/Divanshu0212/Pr_Project.git
    branch: deployment
    envVars:
      - key: GROQ_API_KEY
        sync: false
      - key: LANGCHAIN_API_KEY  
        sync: false
      - key: LANGCHAIN_TRACING_V2
        value: "true"
      - key: LANGCHAIN_PROJECT
        value: "Portfolio_ATS"
      - key: NODE_ENV
        value: "production"
      - key: PORT
        value: "10000"
      - key: PYTHON_VERSION
        value: "3.9.16"
    plan: free
    region: oregon
    buildCommand: ./build.sh
    startCommand: ./start.sh
    autoDeploy: true
    disk:
      name: portfolio-disk
      mountPath: /data
      sizeGB: 1
    healthCheckPath: /api/health
